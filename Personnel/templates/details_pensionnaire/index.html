{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>OGB</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <link rel="stylesheet" href="{% static 'plugins/fontawesome-free/css/all.min.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/datatables-bs4/css/dataTables.bootstrap4.min.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/datatables-responsive/css/responsive.bootstrap4.min.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/datatables-buttons/css/buttons.bootstrap4.min.css' %}">
    <link rel="stylesheet" href="{% static 'dist/css/adminlte.min.css' %}">
    <link rel="stylesheet" href="../../">
</head>
<body class="hold-transition sidebar-mini layout-fixed  layout-navbar-fixed sidebar-closed sidebar-collapse layout-navbar-fixed {% if request.user.dark_mode %}dark-mode{% endif %}">
<div class="wrapper">
    {% include 'preload.html' %}

    {% include 'personnel_navbar.html' %}
    <div class="content-wrapper">
        <section class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1>Tout les details sur le pensionnaire</h1>
                    </div>
                </div>
            </div>
        </section>
        <section class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-3">
                        <div class="card card-primary card-outline">
                            <div class="card-body box-profile">

                                <h3 class="profile-username text-center">{{ details_pensionnaires.nom_enfant }} {{ details_pensionnaires.prenom_enfant }}</h3>

                                <p class="text-muted text-center">Matricule: OGB-{{ details_pensionnaires.matricule }}</p>

                                <ul class="list-group list-group-unbordered mb-3">
                                    <li class="list-group-item">
                                        <b>Date de naissance</b> <a class="float-right">{{ details_pensionnaires.date_naissance_enfant }}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Lieu de naissance</b> <a class="float-right">{{ details_pensionnaires.lieu_naissance_enfant }}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Réligion</b> <a class="float-right">{{ details_pensionnaires.religion_enfant }}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Nationalité</b> <a class="float-right">{{ details_pensionnaires.nationalite_enfant }}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Statut</b> <a class="float-right"> <button style="cursor: none" type="button" class="btn btn-block btn-success btn-sm">{{ details_pensionnaires.statue }}</button></a>
                                    </li>
                                </ul>
                            </div>
                            <!-- /.card-body -->
                        </div>
                        <div class="card card-primary">
                            <div class="card-header">
                                <h3 class="card-title">Suplementaire</h3>
                            </div>
                            <div class="card-body">
                                <strong><i class="fas fa-book mr-1"></i> Ouverture du dossier</strong>

                                <p class="text-muted">
                                    Est a l'orphelinat depuis le <span style="font-weight: bold">{{ details_pensionnaires.date_ouverture_dossier }}</span>
                                </p>

                                <hr>

                                <strong><i class="fas fa-map-marker-alt mr-1"></i> Lieu d'habitation</strong>

                                <p class="text-muted">{% if  details_pensionnaires.lieu_habitation_enfant  %} {{ details_pensionnaires.lieu_habitation_enfant }}{% else %}Non mentionné{% endif %}</p>

                                <hr>

                                <strong><i class="fas fa-pencil-alt mr-1"></i> Motif du deplacement</strong>

                                <p class="text-muted">
                                    {% if  details_pensionnaires.motif_deplacement_enfant  %} {{ details_pensionnaires.motif_deplacement_enfant }}{% else %}Le motif n'a pas été  mentionné{% endif %}
                                </p>

                                <hr>

                                <strong><i class="far fa-file-alt mr-1"></i> Notes</strong>

                                <p class="text-muted">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam fermentum enim neque.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-9">
                        <table id="example1" class="table table-bordered table-striped" style="display: none">
                            <thead>
                            <tr>
                                <th>N°</th>
                                <th>Désignation</th>
                                <th>Valeur</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>1</td>
                                <td>Nom</td>
                                <td>{{ details_pensionnaires.nom_enfant }}</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Prénom</td>
                                <td>{{ details_pensionnaires.prenom_enfant }}</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Date de naissance</td>
                                <td>{{ details_pensionnaires.date_naissance_enfant }}</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>Matricule</td>
                                <td>{{ details_pensionnaires.matricule }}</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>Lieu de naissance</td>
                                <td>{{ details_pensionnaires.lieu_naissance_enfant }}</td>
                            </tr>
                            <tr>
                                <td>6</td>
                                <td>Nationalité</td>
                                <td>{{ details_pensionnaires.nationalite_enfant }}</td>
                            </tr>
                            <tr>
                                <td>7</td>
                                <td>Religion</td>
                                <td>{{ details_pensionnaires.religion_enfant }}</td>
                            </tr>
                            <tr class="section-header">
                                <td></td>
                                <td>Informations du Père</td>
                                <td></td>
                            </tr>

                            <tr>
                                <td>8</td>
                                <td>Nom</td>
                                <td>{{ details_pensionnaires.pere.nom_pere }}</td>
                            </tr>
                            <tr>
                                <td>9</td>
                                <td>Prénom</td>
                                <td>{{ details_pensionnaires.pere.prenom_pere }}</td>
                            </tr>
                            <tr>
                                <td>10</td>
                                <td>Date de naissance</td>
                                <td>{{ details_pensionnaires.pere.date_naissance_pere }}</td>
                            </tr>
                            <tr>
                                <td>11</td>
                                <td>Profession</td>
                                <td>{{ details_pensionnaires.pere.profession_pere }}</td>
                            </tr>
                            <tr class="section-header">
                                <td></td>
                                <td>Informations du Père</td>
                                <td></td>
                            </tr>

                            <tr>
                                <td>12</td>
                                <td>Nom</td>
                                <td>{{ details_pensionnaires.mere.nom }}</td>
                            </tr>
                            <tr>
                                <td>13</td>
                                <td>Prénom</td>
                                <td>{{ details_pensionnaires.mere.prenom }}</td>
                            </tr>
                            <tr>
                                <td>14</td>
                                <td>Date de naissance</td>
                                <td>{{ details_pensionnaires.mere.date_naissance }}</td>
                            </tr>
                            <tr>
                                <td>15</td>
                                <td>Profession</td>
                                <td>{{ details_pensionnaires.mere.profession }}</td>
                            </tr>
                            </tbody>
                        </table>

                        <div class="card">
                            <div class="card-header p-2" >
                                <ul class="nav nav-pills">
                                    <li class="nav-item"><a class="nav-link active" href="#activity" data-toggle="tab">Informations</a></li>
                                    <li class="nav-item"><a class="nav-link" href="#pere-info" data-toggle="tab">Pere </a></li>
                                    <li class="nav-item"><a class="nav-link" href="#mere-info" data-toggle="tab">Mere</a></li>
                                    <li class="nav-item"><a class="nav-link" href="#repondant-info" data-toggle="tab">Repondant</a></li>
                                    <li class="nav-item"><a class="nav-link" href="#documents-info" data-toggle="tab">Documents</a></li>
                                    <li class="nav-item"><a class="nav-link"  data-toggle="tab"><div style="background-color: red" id="exportButtonContainer"></div></a></li>
                                </ul>
                            </div><!-- /.card-header -->
                            <div class="card-body">
                                <div class="tab-content">
                                    <div class="active tab-pane" id="activity">
                                        <div class="timeline timeline-inverse">
                                            <div class="time-label">
                                                <span class="bg-danger">{{ details_pensionnaires.date_ouverture_dossier }}</span>
                                            </div>
                                            <div>
                                                <i class="fas fa-user bg-info"></i>
                                                <div class="timeline-item">
                                                    <span class="time"><i class="far fa-clock"></i> 10:00</span>
                                                    <h3 class="timeline-header"><a href="#">Entrée à l'orphelinat</a></h3>
                                                    <div class="timeline-body">
                                                        Le pensionnaire a été admis à l'orphelinat
                                                        {% if details_pensionnaires.motif_deplacement_enfant == 'Trouble du comportement' %}
                                                            <strong>en raison de troubles du comportement.</strong>
                                                        {% elif details_pensionnaires.motif_deplacement_enfant == 'Situation familiale précaire' %}
                                                            <strong>après avoir vécu dans une situation familiale précaire.</strong>
                                                        {% elif details_pensionnaires.motif_deplacement_enfant == 'Echec scolaire' %}
                                                            <strong>suite à un échec scolaire.</strong>
                                                        {% elif details_pensionnaires.motif_deplacement_enfant %}
                                                            <strong>pour la raison suivante : {{ details_pensionnaires.motif_deplacement_enfant }}.</strong>
                                                        {% else %}
                                                            <strong>pour {{ details_pensionnaires.motif_deplacement_enfant }}</strong>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="time-label">
                                                <span class="bg-danger">15 Mar. 2020</span>
                                            </div>
                                            <div>
                                                <i class="fas fa-book bg-primary"></i>
                                                <div class="timeline-item">
                                                    <span class="time"><i class="far fa-clock"></i> 14:30</span>
                                                    <h3 class="timeline-header"><a href="#">Inscription à l'école</a></h3>
                                                    <div class="timeline-body">
                                                        Le pensionnaire a été inscrit à l'école primaire pour commencer son éducation.
                                                    </div>
                                                </div>
                                            </div>

                                            <div>
                                                <i class="far fa-clock bg-gray"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="pere-info">
                                        <div class="card-body box-profile">
                                            <h1 class="profile-username text-center animated fadeIn" style="border: solid 2px #e7a5a5; border-radius: 10px; font-weight: bold; font-family: 'Lucida Grande', Arial, sans-serif; padding: 10px; background-color: #f9f9f9;">
                                                Le père de l'enfant
                                            </h1>

                                            <h3 class="profile-username text-center animated fadeInUp" style="font-size: 1.8rem; font-weight: bold; color: #007bff;">
                                                {{ details_pensionnaires.pere.nom_pere }} {{ details_pensionnaires.pere.prenom_pere }}
                                            </h3>

                                            <p class="text-muted text-center animated fadeInUp" style="font-size: 1rem; color: #6c757d;">
                                                Contact: +225 {{ details_pensionnaires.pere.contact_pere }}
                                            </p>

                                            <ul class="list-group list-group-unbordered mb-3">
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Date de naissance</b>
                                                    <a class="float-right">{{ details_pensionnaires.pere.date_naissance_pere }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Lieu de naissance</b>
                                                    <a class="float-right">{{ details_pensionnaires.pere.lieu_naissance_pere }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Profession</b>
                                                    <a class="float-right">{{ details_pensionnaires.pere.profession_pere }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Ethnie</b>
                                                    <a class="float-right">{{ details_pensionnaires.pere.ethnie_pere }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Religion</b>
                                                    <a class="float-right">{{ details_pensionnaires.pere.religion_pere }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Nombre de persone en charge</b>
                                                    <a class="float-right">{{ details_pensionnaires.pere.nombre_personne_charge_pere }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Adresse</b>
                                                    <a class="float-right">{{ details_pensionnaires.pere.adresse_pere }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Situation matrimoniale</b>
                                                    <a class="float-right">{% if details_pensionnaires.pere.en_couple_pere %} En couple{% else %} celibataire{% endif %} </a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Situation de vie</b>
                                                    <a class="float-right">{% if details_pensionnaires.pere.en_vie_pere %} En vie{% else %} Decede{% endif %} </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="mere-info">
                                        <div class="card-body box-profile">
                                            <h1 class="profile-username text-center animated fadeIn" style="border: solid 2px #e7a5a5; border-radius: 10px; font-weight: bold; font-family: 'Lucida Grande', Arial, sans-serif; padding: 10px; background-color: #f9f9f9;">
                                                La mere de l'enfant
                                            </h1>

                                            <h3 class="profile-username text-center animated fadeInUp" style="font-size: 1.8rem; font-weight: bold; color: #007bff;">
                                                {{ details_pensionnaires.mere.nom }} {{ details_pensionnaires.mere.prenom }}
                                            </h3>

                                            <p class="text-muted text-center animated fadeInUp" style="font-size: 1rem; color: #6c757d;">
                                                Contact: +225 {{ details_pensionnaires.mere.contact }}
                                            </p>

                                            <ul class="list-group list-group-unbordered mb-3">
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Date de naissance</b>
                                                    <a class="float-right">{{ details_pensionnaires.mere.date_naissance }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Lieu de naissance</b>
                                                    <a class="float-right">{{ details_pensionnaires.mere.lieu_naissance }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Profession</b>
                                                    <a class="float-right">{{ details_pensionnaires.mere.profession }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Ethnie</b>
                                                    <a class="float-right">{{ details_pensionnaires.mere.ethnie }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Religion</b>
                                                    <a class="float-right">{{ details_pensionnaires.mere.religion }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Nombre de persone en charge</b>
                                                    <a class="float-right">{{ details_pensionnaires.mere.nombre_personne_charge }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Adresse</b>
                                                    <a class="float-right">{{ details_pensionnaires.mere.adresse }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Situation matrimoniale</b>
                                                    <a class="float-right">{% if details_pensionnaires.mere.en_couple %} En couple{% else %} celibataire{% endif %} </a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Situation de vie</b>
                                                    <a class="float-right">{% if details_pensionnaires.mere.en_vie %} En vie{% else %} Decede{% endif %} </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="repondant-info">
                                        <div class="card-body box-profile">
                                            <h1 class="profile-username text-center animated fadeIn" style="border: solid 2px #e7a5a5; border-radius: 10px; font-weight: bold; font-family: 'Lucida Grande', Arial, sans-serif; padding: 10px; background-color: #f9f9f9;">
                                                Le repondant de l'enfant
                                            </h1>

                                            <h3 class="profile-username text-center animated fadeInUp" style="font-size: 1.8rem; font-weight: bold; color: #007bff;">
                                                {{ details_pensionnaires.repondant.nom }} {{ details_pensionnaires.repondant.prenom }}
                                            </h3>

                                            <p class="text-muted text-center animated fadeInUp" style="font-size: 1rem; color: #6c757d;">
                                                Contact: +225 {{ details_pensionnaires.repondant.contact }}
                                            </p>

                                            <ul class="list-group list-group-unbordered mb-3">
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Date de naissance</b>
                                                    <a class="float-right">{{ details_pensionnaires.repondant.date_naissance }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Lieu de naissance</b>
                                                    <a class="float-right">{{ details_pensionnaires.repondant.lieu_naissance }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Profession</b>
                                                    <a class="float-right">{{ details_pensionnaires.repondant.profession }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Ethnie</b>
                                                    <a class="float-right">{{ details_pensionnaires.repondant.ethnie }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Religion</b>
                                                    <a class="float-right">{{ details_pensionnaires.repondant.religion }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Nombre de persone en charge</b>
                                                    <a class="float-right">{{ details_pensionnaires.repondant.nombre_personne_charge }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Adresse</b>
                                                    <a class="float-right">{{ details_pensionnaires.repondant.adresse }}</a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Situation matrimoniale</b>
                                                    <a class="float-right">{% if details_pensionnaires.repondant.en_couple %} En couple{% else %} celibataire{% endif %} </a>
                                                </li>
                                                <li class="list-group-item animated fadeInUp">
                                                    <b>Situation de vie</b>
                                                    <a class="float-right">{% if details_pensionnaires.repondant.en_vie %} En vie{% else %} Decede{% endif %} </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="documents-info">
                                        <div class="card-body box-profile">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }

        table th, table td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }

        table .section-header {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fadeInUp {
            animation: fadeInUp 0.5s ease-in-out;
        }

        .fadeIn {
            animation: fadeIn 0.5s ease-in-out;
        }

        .list-group-item:hover {
            transition: background-color 0.3s ease;
        }

        .profile-username {
            font-size: 2rem;
            font-weight: 600;
        }

z        .btn-success {
            transition: background-color 0.3s ease;
        }

        .btn-success:hover {
            background-color: #28a745;
            border-color: #28a745;
        }

        .list-group-item {
            padding: 15px;
            font-size: 1rem;
            color: #333;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .list-group-item:hover {
            background-color: #f1f1f1;
            transform: translateX(10px);
        }
    </style>
</div>
<script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>
<script src="{% static 'plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

<script src="{% static 'plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'plugins/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
<script src="{% static 'plugins/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/dataTables.buttons.min.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/buttons.bootstrap4.min.js' %}"></script>
<script src="{% static 'plugins/jszip/jszip.min.js' %}"></script>
<script src="{% static 'plugins/pdfmake/pdfmake.min.js' %}"></script>
<script src="{% static 'plugins/pdfmake/vfs_fonts.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/buttons.html5.min.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/buttons.print.min.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/buttons.colVis.min.js' %}"></script>
<script src="{% static 'dist/js/adminlte.min.js' %}"></script>
<script src="{% static 'dist/js/demo.js' %}"></script>

<script>
    $(function () {
        var table = $("#example1").DataTable({
            "responsive": true,
            "lengthChange": false,
            "searching": false,
            "paging": false,
            "info": false,
            "buttons": [
                {
                    extend: "pdf",
                    text: "Exporter en PDF",
                    customize: function (doc) {
                        // Personnalisation du PDF
                        doc.content.splice(0, 1);
                        doc.content.unshift({
                            text: 'Détails du Pensionnaire',
                            fontSize: 18,
                            bold: true,
                            alignment: 'center',
                            margin: [0, 0, 0, 10]
                        });
                        doc.content[1].table.widths = ['33%', '33%', '33%'];
                    }
                }
            ]
        });

        table.buttons().container().appendTo('#exportButtonContainer');
    });
</script>
</body>
</html>
